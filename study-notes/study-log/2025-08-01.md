# 2025-08-01 회고

## 문제 상황
- 로그인 후 게시물 상세 페이지에 들어가면 **지원 버튼이 보이지 않는 문제** 발생

## 문제 확인 과정
1. **DB 확인**  
   - 회원 `type` 컬럼 값이 정상적으로 저장되어 있음을 확인 아래 디버깅 코드를 넣어서 콘솔에서 값을 확인
2. **세션 값 디버깅**
   ```jsp
   <%
       Object userType = session.getAttribute("userType");
       System.out.println("[DEBUG] userType = " + userType);
   %>
userType 값이 null로 출력됨 
DB 테이블에 값이 잘 들어가 있는데 왜 DB 값을 못가져오지? 고민

**LoginProcessController 코드 분석**

    ```java
    session.setAttribute("userVO", userVO);

로그인 성공 시 userVO는 세션에 저장되지만, userType은 따로 저장하지 않음

**원인**
JSP에서 userType 값을 바로 사용하려고 했지만,
세션에 userType을 따로 넣지 않아서 null 값이 나옴

해결 방법
로그인 성공 후 다음 코드 추가:

    ```java
    String userType = userVO.getType();
    session.setAttribute("userType", userType);

#### 정리한 개념

HttpSession (세션): 브라우저 단위로 서버가 기억하는 개인 저장소
`request.setAttribute` : 1회 요청 동안만 유효
`session.setAttribute` : 같은 세션(브라우저) 동안 유지
`application.setAttribute` : 서버 전체에서 공유됨


#### 현재 상태

userType 값을 세션에 저장한 후,
JSP에서 sessionScope.userType으로 접근 가능하게 됨
지원 버튼 노출 여부를 조건문으로 처리 가능해짐

**추가 확인할 것**
memberVO.type으로 접근하면 값이 보이는데,
상세 페이지에서 지원 버튼이 여전히 보이지 않는 문제가 있음 

**느낀 점**
request, session, application의 차이를 이해할 수 있었다