# ğŸ“† 2025-08-15 â€” ë§ˆì´í˜ì´ì§€ íšŒì›ìœ í˜• ë¶„ê¸° êµ¬í˜„

## ğŸ“Œ ì£¼ì œ
ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ íšŒì› ìœ í˜•(`CLIENT` / `PARTNER`)ì— ë”°ë¼ ë§ˆì´í˜ì´ì§€ í™”ë©´ì„ ê°ê° ë‹¤ë¥¸ JSPë¡œ ë¶„ê¸°í•˜ëŠ” ê¸°ëŠ¥ êµ¬í˜„

---

## ğŸ“– ë°°ìš´ ì 
1. **JSPì—ì„œ ë¶„ê¸° vs ì„œë²„ì—ì„œ ë¶„ê¸°**
   - JSPì—ì„œ `<c:choose>`ë¡œ ë§í¬ë¥¼ ë‹¤ë¥´ê²Œ ì¶œë ¥í•˜ëŠ” ë°©ë²•
   - ì„œë²„ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ í•œ ì—”ë“œí¬ì¸íŠ¸(`/my/mypage.do`)ë¡œ ë°›ì•„ì„œ forwardí•˜ëŠ” ë°©ë²• (ì¶”ì²œ: ë³´ì•ˆ/ìœ ì§€ë³´ìˆ˜ ìš©ì´)
2. **ì„¸ì…˜ì˜ `userVO` í™œìš©**
   - ë¡œê·¸ì¸ ì‹œ `memberType`ì„ ì„¸ì…˜ì— ì €ì¥í•˜ë©´ ì´í›„ í˜ì´ì§€ ì ‘ê·¼ ì‹œ ê¶Œí•œÂ·í™”ë©´ ì œì–´ ê°€ëŠ¥
3. **ë³´ì•ˆ ì²˜ë¦¬**
   - `WEB-INF` ë‚´ë¶€ JSPë¡œ ì§ì ‘ ì ‘ê·¼ ë°©ì§€
   - ì•Œ ìˆ˜ ì—†ëŠ” ìœ í˜•ì´ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

---

## ğŸ”„ êµ¬í˜„ íë¦„
1. **ìƒë‹¨ë°”(topMenu.jsp)**  
   - "ë§ˆì´í˜ì´ì§€" ë©”ë‰´ë¥¼ `/my/mypage.do`ë¡œ ê³ ì •
2. **ì»¨íŠ¸ë¡¤ëŸ¬(MyPageController)**  
   - ì„¸ì…˜ì˜ `userVO` í™•ì¸ â†’ `memberType` ê°’ì— ë”°ë¼ `client.jsp` ë˜ëŠ” `partner.jsp`ë¡œ forward
3. **JSP ë·°(client.jsp / partner.jsp)**  
   - ê° íšŒì› ìœ í˜•ì— ë§ëŠ” ì •ë³´ì™€ UI í‘œì‹œ
4. **ë¡œê·¸ì•„ì›ƒ ì»¨íŠ¸ë¡¤ëŸ¬(LogoutController)**  
   - ì„¸ì…˜ ë¬´íš¨í™” í›„ ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™

---

## ğŸ’» í•µì‹¬ ì½”ë“œ ìš”ì•½

**`topMenu.jsp`**
```jsp
<li role="menuitem"><a href="${ctx}/my/mypage.do">ë§ˆì´í˜ì´ì§€</a></li>

MyPageController.java

@WebServlet("/my/mypage.do")
public class MyPageController extends HttpServlet {
  protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    HttpSession session = req.getSession(false);
    UserVO user = (session != null) ? (UserVO) session.getAttribute("userVO") : null;

    if (user == null) {
      resp.sendRedirect(req.getContextPath() + "/login/login.do");
      return;
    }

    String type = user.getMemberType().toUpperCase();
    String view = "/WEB-INF/views/my/" + (type.equals("CLIENT") ? "client.jsp" : "partner.jsp");

    req.getRequestDispatcher(view).forward(req, resp);
  }
}
